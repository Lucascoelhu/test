<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simulador de Prateleiras</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
    background-color: #fafafa;
  }

  h1 {
    text-align: center;
  }

  #controls {
    margin-bottom: 20px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
    justify-content: center;
  }

  #shelvesContainer {
    display: grid;
    gap: 12px;
  }

  /* --- PRATELEIRAS MAIS RETANGULARES --- */
  .shelf {
    position: relative;
    border: 2px solid #444;
    background: #f5f5f5;
    height: 120px; /* altura menor para parecer mais ‚Äúreta‚Äù */
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    padding: 6px 10px;
    justify-content: flex-start;
    align-items: flex-end;
    overflow: hidden;
    border-radius: 6px;
  }

  /* --- CAMPO DE TEXTO CENTRAL --- */
  .shelf-label {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    text-align: center;
    background: rgba(255, 255, 255, 0.5);
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 6px;
    font-size: 14px;
    color: #333;
    padding: 3px 5px;
    pointer-events: auto;
  }

  .shelf-label:focus {
    outline: none;
    background: rgba(255, 255, 255, 0.85);
  }

  /* --- PRODUTOS (MENORES) --- */
  .item {
    border-radius: 3px;
    cursor: pointer;
    transition: transform 0.1s;
  }

  .item:hover {
    transform: scale(1.1);
  }

  /* Tipos de produtos menores */
  .small {
    width: 25px;
    height: 35px;
    background-color: #ffb347;
  }
  .medium {
    width: 35px;
    height: 45px;
    background-color: #77dd77;
  }
  .large {
    width: 45px;
    height: 55px;
    background-color: #84b6f4;
  }
  .tall {
    width: 30px;
    height: 60px;
    background-color: #fdcae1;
  }
  .wide {
    width: 55px;
    height: 35px;
    background-color: #cbaacb;
  }

  /* Paleta de produtos */
  #productPalette {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
    margin-bottom: 20px;
  }

  .palette-item {
    border: 2px solid transparent;
    cursor: pointer;
  }

  .palette-item.selected {
    border-color: #ff6600;
  }

</style>
</head>
<body>

<h1>üõí Simulador de Prateleiras de Supermercado</h1>

<div id="controls">
  <label>Colunas: <input type="number" id="numCols" value="3" min="1"></label>
  <label>Prateleiras (linhas): <input type="number" id="numShelves" value="4" min="1"></label>
  <button id="buildBtn">Construir prateleiras</button>
</div>

<h3 style="text-align:center;">Escolha o tipo de mercadoria:</h3>
<div id="productPalette">
  <div class="palette-item small" data-type="small"></div>
  <div class="palette-item medium" data-type="medium"></div>
  <div class="palette-item large" data-type="large"></div>
  <div class="palette-item tall" data-type="tall"></div>
  <div class="palette-item wide" data-type="wide"></div>
</div>

<div id="shelvesContainer"></div>

<script>
  const shelvesContainer = document.getElementById('shelvesContainer');
  const buildBtn = document.getElementById('buildBtn');
  const paletteItems = document.querySelectorAll('.palette-item');
  let selectedType = null;

  // Seleciona o tipo de produto
  paletteItems.forEach(item => {
    item.addEventListener('click', () => {
      paletteItems.forEach(p => p.classList.remove('selected'));
      item.classList.add('selected');
      selectedType = item.dataset.type;
    });
  });

  // Monta as prateleiras
  buildBtn.addEventListener('click', () => {
    const cols = parseInt(document.getElementById('numCols').value);
    const rows = parseInt(document.getElementById('numShelves').value);

    shelvesContainer.innerHTML = '';
    shelvesContainer.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

    for (let i = 0; i < rows * cols; i++) {
      const shelf = document.createElement('div');
      shelf.className = 'shelf';
      shelf.dataset.index = i;

      // Campo de texto no centro
      const label = document.createElement('input');
      label.className = 'shelf-label';
      label.type = 'text';
      label.placeholder = 'Digite o nome da se√ß√£o...';

      shelf.appendChild(label);
      shelf.addEventListener('click', (e) => {
        if (e.target.classList.contains('shelf-label')) return;
        addProduct(shelf);
      });

      shelvesContainer.appendChild(shelf);
    }
  });

  // Adiciona o produto clicado na prateleira
  function addProduct(shelf) {
    if (!selectedType) {
      alert('Escolha primeiro um tipo de mercadoria!');
      return;
    }
    const item = document.createElement('div');
    item.classList.add('item', selectedType);
    shelf.appendChild(item);
  }

  // Inicializa com valores padr√£o
  buildBtn.click();
</script>

</body>
</html>
